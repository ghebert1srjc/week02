<!DOCTYPE html>
<html>
    <head>
        <title>CS55.13 Fall 2025 Week 2: React Import External JSON</title>
        <!-- Load jquery to use for external json loading-->
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <!--Load babel transpiler to convert React's JSX markup to pure javascript, 
        only need babel loaded in the browser if we are not using a build system-->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    </head>
    <body>
        <div id="myApp"></div>
        <!--Load custom script with react component-->
        <script data-type="module" data-presets="react" type="text/babel">
                "use strict";

                //load react as JS module
                import React from 'https://cdn.jsdelivr.net/npm/react@19.1.1/+esm';
                //load createRoot method from ReactDOM/client
                import { createRoot } from 'https://cdn.jsdelivr.net/npm/react-dom@19.1.1/client/+esm';

                //define a react page component (some JSX that will get react to make html elements)
                function ColorList(props){
                    //return some output for the component using JSX
                    return <div>
                        <ol>
                            {
                                //use map() to loop thru array passed in props.list
                                props.list.map(
                                    //map copies current array value into item and pass to arrow function
                                    (item,index) => (
                                        <li key={index}>
                                            <a href={item.link}>
                                                {item.color}
                                            </a>
                                        </li>
                                    )
                                    
                                )
                            }
                        </ol>
                        </div>;
                }
                
                //use jquery to load JSON
                //getJSON 2 arguments: URL & a function that receives JSON!
                $.getJSON(
                    "list.json",
                    function(jsonFromJquery){
                        console.log(jsonFromJquery);
                        // fire up React and build our application
                        // find html element
                        const myElement = document.getElementById('myApp');

                        //reactDOM createRoot() to identify root HTML element for app
                        const myRoot=createRoot(myElement);
                        //then call react render() to output component into existing element
                        myRoot.render(
                            <ColorList list={jsonFromJquery} />
                        );
                    }
                );
        </script>
    </body>
</html>